let products = [
    { id:1,
        brand_name: "Moda Rapido",
        img: "https://assets.myntassets.com/f_webp,dpr_1.5,q_60,w_210,c_limit,fl_progressive/assets/images/2378362/2018/6/9/270e0a7e-365b-4640-9433-b269c60bf3061528527188563-Moda-Rapido-Men-Maroon-Printed-Round-Neck-T-shirt-3811528527-1.jpg",
        name: "Printed Round Neck T-shirt",
        price: 421,
        discount: 35,
       oldprice: 649
    },
    {id:2,
        brand_name: "HRX",
        img: "https://assets.myntassets.com/f_webp,dpr_1.5,q_60,w_210,c_limit,fl_progressive/assets/images/2314372/2018/6/19/29e8ddfd-6f5f-43fd-8b71-dfa8ac6cef681529385860869-HRX-by-Hrithik-Roshan-Men-Charcoal-Grey-Slim-Advanced-Rapid--1.jpg",
        name: "Ultralyte Men Running T-shirt",
        price: 800,
        discount: 20,
       oldprice: 1000

    },

    {id:3,
        brand_name: "Moda Rapido",
        img: "https://assets.myntassets.com/f_webp,dpr_1.5,q_60,w_210,c_limit,fl_progressive/assets/images/2378414/2018/2/8/11518071262125-Moda-Rapido-Men-Navy-Blue-Striped-Round-Neck-T-shirt-3641518071261992-1.jpg",
        name: "Printed Round neck T-shirt",
        price: 421,
        discount: 35,
       oldprice: 649

    },
    {id:4,
        brand_name: "H&M",
        img: "https://assets.myntassets.com/f_webp,dpr_1.5,q_60,w_210,c_limit,fl_progressive/assets/images/productimage/2021/2/25/dcd80c17-5db3-4176-a0f3-62b74ce386df1614246409273-1.jpg",
        "name": "Round neck T-shirt Regular fit",
        price: 350,
        discont: 50,
       oldprce :700
    },
    {id:5,
        brand_name: "Roadster",
        img: "https://assets.myntassets.com/f_webp,dpr_1.5,q_60,w_210,c_limit,fl_progressive/assets/images/2169170/2018/1/31/11517402469341-Roadster-Men-Black-Colourblocked-Round-Neck-T-shirt-6121517402469142-1.jpg",
        name: "Brush Printed T-shirt",
        price: 419,
        discount: 50,
       oldprice: 839

    },
    {id:6,
        brand_name: "HRX",
        img: "https://assets.myntassets.com/f_webp,dpr_1.5,q_60,w_210,c_limit,fl_progressive/assets/images/2314433/2018/4/11/11523427507742-HRX-by-Hrithik-Roshan-Men-Tshirts-2051523427507608-4.jpg",
        name: "Slim rapid dry Raglan T-shirt",
        price: 449,
        discount: 10,
       oldprice: 499

    },
    {id:7,
        brand_name: "Nautica",
        img: "https://assets.myntassets.com/f_webp,dpr_1.5,q_60,w_210,c_limit,fl_progressive/assets/images/13573298/2021/5/17/b71cc490-1c1d-464a-846a-0461dc22f9101621250551546-Nautica-Men-Tshirts-2981621250550824-1.jpg",
        name: "Striped polo collar T-shirt",
        price: 1399,
        discount: 30,
       oldprice: 1999

    },
    {id:8,
        brand_name: "DILLINGER",
        img: "https://assets.myntassets.com/f_webp,dpr_1.5,q_60,w_210,c_limit,fl_progressive/assets/images/11067722/2019/12/10/1290831c-0862-4b6a-8eee-41a6cad1b1e01575972511857-DILLINGER-Men-Tshirts-3141575972509288-1.jpg",
        name: "coloured round neck T-shirt",
        price: 449,
        discount: 10,
       oldprice: 499
    },
    {id:9,
        brand_name: "Roadster",
        img: "https://assets.myntassets.com/f_webp,dpr_1.5,q_60,w_210,c_limit,fl_progressive/assets/images/8807157/2019/2/28/c421d8d6-fcf6-44b0-bf34-d3d7690505051551343695119-Roadster-Men-Black-Colourblocked-Round-Neck-T-shirt-91915513-1.jpg",
        name: "Striped Round neck T-shirt",
        price: 449,
        discount: 10,
       oldprice: 49

    },
    {id:10,
        brand_name: "HRX",
        img: "https://assets.myntassets.com/f_webp,dpr_1.5,q_60,w_210,c_limit,fl_progressive/assets/images/2314400/2018/6/19/82353ec3-9ebf-421e-bb0f-c897166555641529389688071-HRX-by-Hrithik-Roshan-Men-Navy-Advanced-Rapid-Dry-Round-Neck-1.jpg",
        name: "RAPID-DRY Round neck T-shirt",
        price: 449,
        discount: 10,
       oldprice: 499

    },
    {id:11,
        brand_name: "FIDO DIDO",
        img: "https://assets.myntassets.com/f_webp,dpr_1.5,q_60,w_210,c_limit,fl_progressive/assets/images/2476463/2018/2/10/11518244710081-FIDO-DIDO-Men-Mustard-Printed-Polo-Collar-T-shirt-5511518244709858-1.jpg",
        name: "Solid Polo Collar T-shirt",
        price: 629,
        discount: 10,
       oldprice: 699
    },
    {id:12,
        brand_name: "Levis",
        img: "https://assets.myntassets.com/f_webp,dpr_1.5,q_60,w_210,c_limit,fl_progressive/assets/images/13298386/2021/3/3/a45e9273-cb98-407b-8bf3-7c1287716e2b1614762063196-Levis-Men-Red--Navy-Blue-Colourblocked-Round-Neck-T-shirt-wi-1.jpg",
        name: "coloured Round neck T-shirt",
        price: 1199,
        discount: 20,
       oldprice: 1499

    },
    {id:13,
        brand_name: "Levis",
        img: "https://assets.myntassets.com/f_webp,dpr_1.5,q_60,w_210,c_limit,fl_progressive/assets/images/13298380/2021/1/27/0dd95d61-be30-4eea-9fc1-0373cb7cc38a1611751095466-Levis-Men-Tshirts-4771611751093290-1.jpg",
        name: "Printed round neck T-shirt",
        price: 800,
        discount: 20,
       oldprice: 999

    },
    {id:14,
        brand_name: "WROGN",
        img: "https://assets.myntassets.com/f_webp,dpr_1.5,q_60,w_210,c_limit,fl_progressive/assets/images/1894413/2017/6/20/11497943671766-WROGN-Men-Grey-Melange-Self-Design-Round-Neck-T-shirt-881497943671356-1.jpg",
        name: "Self Design round neck T-shirt",
        price: 792,
        discount: 10,
       oldprice: 879

    },
    {id:15,
        brand_name: "WROGN",
        img: "https://assets.myntassets.com/f_webp,dpr_1.5,q_60,w_210,c_limit,fl_progressive/assets/images/10188253/2019/9/26/1c589968-d8a0-43e6-acc6-8a22494c85a81569502754494-WROGN-Men-Off-White-Printed-Hood-T-shirt-1061569502752645-1.jpg",
        name: "Printed Hood T-shirt",
        price: 629,
        discount: 10,
       oldprice: 699

    },
    {id:16,
        brand_name: "Tommy Hilfiger",
        img: "https://assets.myntassets.com/f_webp,dpr_1.5,q_60,w_210,c_limit,fl_progressive/assets/images/14188518/2021/5/25/337fbcd2-a36a-4e30-8848-5a58e68491b11621921852238TommyHilfigerMenPinkSolidPureCottonPoloCollarT-shirt1.jpg",
        name: "Sollid Polo collar T-shirt",
        price: 2399,
        discount: 20,
       oldprice: 2999

    },
    {id:17,
        brand_name: "Tommy Hilfiger",
        img: "https://assets.myntassets.com/f_webp,dpr_1.5,q_60,w_210,c_limit,fl_progressive/assets/images/14588376/2021/7/9/f42894bd-1db4-44c3-a291-8a74b058cea51625834541471-Tommy-Hilfiger-Men-Blue-Polo-Collar-Slim-Fit-T-shirt-8501625-1.jpg",
        name: "cotton Custom fit T-shirt",
        price: 2999,
        discount: 25,
       oldprice: 3999

    },
    {id:18,
        brand_name: "Tommy Hilfiger",
        img: "https://assets.myntassets.com/f_webp,dpr_1.5,q_60,w_210,c_limit,fl_progressive/assets/images/14589080/2021/7/6/ccfbc98b-aff9-4421-a62b-0b6ed69ae30c1625565725104-Tommy-Hilfiger-Men-Tshirts-971625565724537-1.jpg",
        name: "Men Embroiderd T-shirt",
        price: 1599,
        discount: 50,
       oldprice: 3199

    },
    {id:19,
        brand_name: "WROGN",
        img: "https://assets.myntassets.com/f_webp,dpr_1.5,q_60,w_210,c_limit,fl_progressive/assets/images/2478310/2018/3/27/11522132732327-WROGN-Men-Tshirts-2331522132732139-1.jpg",
        "name": "Dyed Round Neck T-shirt",
        price: 699,
        discont: 50,
       oldprice :139
    },    {id:20,
        brand_name: "Puma",
        img: "https://assets.myntassets.com/f_webp,dpr_1.5,q_60,w_210,c_limit,fl_progressive/assets/images/12352660/2020/9/21/b64ec2e4-8aa4-40ae-8b0d-d4946d71d6e41600683357698JacketsPumaMenShortsPumaMenShortsPumaMenShortsPumaMenSweatsh1.jpg",
        name: "Striped Henley Neck T-shirt",
        price: 449,
        discount: 50,
       oldprice: 899

    },
    {id:21,
        brand_name: "Puma",
        img: "https://assets.myntassets.com/f_webp,dpr_1.5,q_60,w_210,c_limit,fl_progressive/assets/images/13802728/2021/4/8/e9ebda03-a8bd-458b-8e66-db7485634df91617874077486-Puma-Men-Tshirts-8601617874076356-1.jpg",
        name: "Slim Fit Printed T-shirt",
        price: 1374,
        discount: 25,
       oldprice: 1899

    },
    {id:22,
        brand_name: "Puma",
        img: "https://assets.myntassets.com/f_webp,dpr_1.5,q_60,w_210,c_limit,fl_progressive/assets/images/14284654/2021/7/13/9d06e424-a09d-4c07-b070-a5bbb86a09b01626176462803-Puma-Men-Tshirts-1891626176461066-1.jpg",
        name: "Yellow & Teal Printed T-shirt",
        price: 1299,
        discount: 25,
       oldprice: 1799

    },
    {id:23,
        brand_name: "Puma",
        img: "https://assets.myntassets.com/f_webp,dpr_1.5,q_60,w_210,c_limit,fl_progressive/assets/images/13802728/2021/4/8/e9ebda03-a8bd-458b-8e66-db7485634df91617874077486-Puma-Men-Tshirts-8601617874076356-1.jpg",
        name: "Men Printed T-shirt",
        price: 899,
        discount: 25,
       oldprice: 1199

    },
    {id:24,
        brand_name: "ADIDAS",
        img: "https://assets.myntassets.com/f_webp,dpr_1.5,q_60,w_210,c_limit,fl_progressive/assets/images/12635590/2020/11/3/bef08c65-bcf3-40e4-978b-2e65ac8a61cc1604397319402-ADIDAS-Men-Tshirts-7741604397318122-1.jpg",
        name: "Runner LOng Sleeves T-shirt",
        price: 899,
        discount: 25,
       oldprice: 1199
    },
    {id:25,
        brand_name: "ADIDAS",
        img: "https://assets.myntassets.com/f_webp,dpr_1.5,q_60,w_210,c_limit,fl_progressive/assets/images/12946124/2020/12/1/e49160b8-9fef-4f55-b0c4-fac4978cd3c01606797938415-ADIDAS-Men-Neon-Orange-Solid-ADI-Runner-T-shirt-631160679793-1.jpg",
        name: "ADI Runner T-shirt",
        price: 899,
        discount: 25,
       oldprice: 1199
    },
    {id:26,
        brand_name: "ADIDAS",
        img: "https://assets.myntassets.com/f_webp,dpr_1.5,q_60,w_210,c_limit,fl_progressive/assets/images/13743438/2021/3/12/a09b1d7e-0099-4018-b0bc-15f0da23ad971615528296786TshirtsADIDASOriginalsMenTshirtsADIDASMenTshirtsADIDASOrigin1.jpg",
        name: "Men Club RIb Polo T-shirt",
        price: 899,
        discount: 25,
       oldprice: 1199

    },
    {id:27,
        brand_name: "ADIDAS",
        img: "https://assets.myntassets.com/f_webp,dpr_1.5,q_60,w_210,c_limit,fl_progressive/assets/images/12618162/2020/12/5/3a97a155-947b-411f-ad10-b5160427984c1607156459914ShortsADIDASMenShortsADIDASMenShortsAlcisMenShortsAlcisMenTi1.jpg",
        name: "heat ready 1 polo tennis T-shirt",
        price: 899,
        discount: 25,
       oldprice: 1199

    },
    {id:28,
        brand_name: "ADIDAS",
        img: "https://assets.myntassets.com/f_webp,dpr_1.5,q_60,w_210,c_limit,fl_progressive/assets/images/13536554/2021/5/18/00a649b5-183d-4b70-aa5e-284e67ef7e9b1621329562382LevisWomenNavyBluePinkPrintedRoundNeckT-shirtTshirtsRoadster1.jpg",
        name: "X DISNEY T-shirt",
        price: 899,
        discount: 50,
       oldprice: 1799

    },
    {id:29,
        brand_name: "ADIDAS",
        img: "https://assets.myntassets.com/f_webp,dpr_1.5,q_60,w_210,c_limit,fl_progressive/assets/images/12906542/2020/12/5/0aa14b3d-4bc6-4c65-ac84-044263402ebe1607156496063ShortsADIDASMenShortsADIDASMenShortsAlcisMenShortsAlcisMenTi1.jpg",
        name: "Hypereal Circled Slogan T-shirt",
        price: 1049,
        discount: 50,
       oldprice: 2099

    },
    {id:30,
        brand_name: "ADIDAS",
        img: "https://assets.myntassets.com/f_webp,dpr_1.5,q_60,w_210,c_limit,fl_progressive/assets/images/13536486/2021/5/12/f161efb6-4e6c-400c-8b40-90901f1683f71620809767954PumaMenWhiteClassicsEmbroSolidRoundNeckT-shirtTshirtsPumaMen1.jpg",
        name: "Unisex Giant Logo Q1 T-shirt",
        price: 1719,
        discount: 10,
       oldprice: 1899

    }
]

function firstBlock() {
    document.querySelector(".men").addEventListener("mouseover", () => {
      document.querySelector(".men").style.borderBottom = "5px solid rgb(6, 47, 109)";
      let drop = document.querySelector(".drop-men");
      drop.style.display = "flex";
      drop.style.width = "60%";
      drop.style.justifyContent = "space-around";
    });
    let drop = document.querySelector(".drop-men");
    drop.addEventListener("mouseover", function () {
      drop.style.display = "flex";
      document.querySelector(".men").style.borderBottom = "5px solid rgb(6, 47, 109)";
      drop.addEventListener("mouseout", function () {
        drop.style.display = "none";
        document.querySelector(".men").style.borderBottom = "none";
      });
    });
    document.querySelector(".men").addEventListener("mouseout", () => {
      let drop = document.querySelector(".drop-men");
      drop.style.display = "none";
      document.querySelector(".men").style.borderBottom = "none";
    });
  }
  firstBlock();
  function secondBlock() {
    document.querySelector(".women").addEventListener("mouseover", () => {
      let drop = document.querySelector(".drop-women");
      drop.style.display = "flex";
      drop.style.width = "60%";
      drop.style.justifyContent = "space-around";
      document.querySelector(".women").style.borderBottom = "5px solid rgb(6, 47, 109)";
    });
    let drop = document.querySelector(".drop-women");
    drop.addEventListener("mouseover", function () {
      drop.style.display = "flex";
      document.querySelector(".women").style.borderBottom = "5px solid rgb(6, 47, 109)";
      drop.addEventListener("mouseout", function () {
        drop.style.display = "none";
        document.querySelector(".women").style.borderBottom = "none";
      });
    });
    document.querySelector(".women").addEventListener("mouseout", () => {
      let drop = document.querySelector(".drop-women");
      drop.style.display = "none";
      document.querySelector(".women").style.borderBottom = "none";
    });
  }
  secondBlock();
  function thirdBlock() {
    document.querySelector(".kids").addEventListener("mouseover", () => {
      let drop = document.querySelector(".drop-kids");
      drop.style.display = "flex";
      drop.style.width = "60%";
      drop.style.justifyContent = "space-around";
      document.querySelector(".kids").style.borderBottom = "5px solid rgb(6, 47, 109)";
    });
    let drop = document.querySelector(".drop-kids");
    drop.addEventListener("mouseover", function () {
      drop.style.display = "flex";
      document.querySelector(".kids").style.borderBottom = "5px solid rgb(6, 47, 109)";
      drop.addEventListener("mouseout", function () {
        drop.style.display = "none";
        document.querySelector(".kids").style.borderBottom = "none";
      });
    });
    document.querySelector(".kids").addEventListener("mouseout", () => {
      let drop = document.querySelector(".drop-kids");
      drop.style.display = "none";
      document.querySelector(".kids").style.borderBottom = "none";
    });
  }
  thirdBlock();
  function fourthBlock() {
    document.querySelector(".home").addEventListener("mouseover", () => {
      let drop = document.querySelector(".drop-home");
      drop.style.display = "flex";
      drop.style.width = "60%";
      drop.style.justifyContent = "space-around";
      document.querySelector(".home").style.borderBottom = "5px solid rgb(6, 47, 109)";
    });
    let drop = document.querySelector(".drop-home");
    drop.addEventListener("mouseover", function () {
      drop.style.display = "flex";
      document.querySelector(".home").style.borderBottom = "5px solid rgb(6, 47, 109)";
      drop.addEventListener("mouseout", function () {
        drop.style.display = "none";
        document.querySelector(".home").style.borderBottom = "none";
      });
    });
    document.querySelector(".home").addEventListener("mouseout", () => {
      let drop = document.querySelector(".drop-home");
      drop.style.display = "none";
      document.querySelector(".home").style.borderBottom = "none";
    });
  }
  fourthBlock();
  function fifthBlock() {
    document.querySelector(".beauty").addEventListener("mouseover", () => {
      let drop = document.querySelector(".drop-beauty");
      drop.style.display = "flex";
      drop.style.width = "60%";
      drop.style.justifyContent = "space-around";
      document.querySelector(".beauty").style.borderBottom = "5px solid rgb(6, 47, 109)";
    });
    let drop = document.querySelector(".drop-beauty");
    drop.addEventListener("mouseover", function () {
      drop.style.display = "flex";
      document.querySelector(".beauty").style.borderBottom = "5px solid rgb(6, 47, 109)";
      drop.addEventListener("mouseout", function () {
        drop.style.display = "none";
        document.querySelector(".beauty").style.borderBottom = "none";
      });
    });
    document.querySelector(".beauty").addEventListener("mouseout", () => {
      let drop = document.querySelector(".drop-beauty");
      drop.style.display = "none";
      document.querySelector(".beauty").style.borderBottom = "none";
    });
  }
  fifthBlock();
  function sixthBlock() {
    document.querySelector(".studio").addEventListener("mouseover", () => {
      let drop = document.querySelector(".drop-studio");
      drop.style.display = "block";
    });
    let drop = document.querySelector(".drop-studio");
    drop.addEventListener("mouseover", function () {
      drop.style.display = "block";
      drop.addEventListener("mouseout", function () {
        drop.style.display = "none";
      });
    });
    document.querySelector(".studio").addEventListener("mouseout", () => {
      let drop = document.querySelector(".drop-studio");
      drop.style.display = "none";
    });
  }
  sixthBlock();
  function seventhBlock() {
    document.querySelector(".profile").addEventListener("mouseover", () => {
      let drop = document.querySelector(".drop-profile");
      drop.style.display = "block";
    });
    let drop = document.querySelector(".drop-profile");
    drop.addEventListener("mouseover", function () {
      drop.style.display = "block";
      drop.addEventListener("mouseout", function () {
        drop.style.display = "none";
      });
    });
    document.querySelector(".profile").addEventListener("mouseout", () => {
      let drop = document.querySelector(".drop-profile");
      drop.style.display = "none";
    });
  }
  seventhBlock();
  
  
let tbody = document.querySelector(".right-cont");
let wishListData = JSON.parse(localStorage.getItem("wishlist"))||[];

//brand filter
function filter(brand){
    let filtered = products.filter((element)=>{
        return (element.brand_name==brand)})
        createDom(filtered);
    
}

//price filter
function priceFilter(min, max) {
   let filtered = products.filter( (element)=> {
        return element.price < min && element.price > max;
    })
    createDom(filtered);
}

//data fetching
fetchData()
function fetchData(){
   let promise =  fetch("/json/myapi.json");
   promise.then((responseObj)=>{
        return responseObj.json();
    }).then((actualData)=>{
        createDom(actualData);  
    }).catch((error)=>{
        console.error(error);
    })
}

// dom creation
function createDom(data){
    tbody.innerHTML= null
    // console.log(data)
   data.forEach((element)=>{
    // console.log(element)
    let card = document.createElement("div");
    let imgDiv = document.createElement("div");
    let image = document.createElement("img")
    let brandname = document.createElement("h3");
    let name = document.createElement("p");
    let price = document.createElement("span");
    let oldprice = document.createElement("span");
    let discount = document.createElement("span");
    let overlay = document.createElement("div");
    let wishlist = document.createElement("button");


    brandname.innerText = element.brand_name;
    name.innerText = element.name;
    price.innerText = "Rs." + element.price;
    oldprice.innerText =  element.oldprice;
    discount.innerText = "(" +element.discount + "%OFF" + ")";
    wishlist.innerText = "wishlist 🖤"

    card.setAttribute("class", "card")
    image.setAttribute("src",element.img);
    price.setAttribute("class", "price");
    oldprice.setAttribute("class","oldprice");
    discount.setAttribute("class", "discount");
    overlay.setAttribute("class", "overlay");
    wishlist.setAttribute("id","btn")

    wishlist.addEventListener("click",()=>{
     let isalreadyinwish = false;
     for(let i=0;i<wishListData.length; i++){
      if(wishListData[i].id==element.id){
        isalreadyinwish = true;
        break;
      }
     }
     if(isalreadyinwish==true){
      Swal.fire({
        icon: 'error',
        title: 'Product Already in Wishlist',
        showConfirmButton: false,
        width: "50%",
        timer: 1400
      })
     }else{
      wishListData.push(element);
      localStorage.setItem("wishlist", JSON.stringify(wishListData));
      Swal.fire({
        icon: 'success',
        title: 'Product Added in Wishlist',
        showConfirmButton: false,
        width: "50%",
        timer: 1400
      })
     }
    })

    imgDiv.append(image);
    card.append(imgDiv,wishlist,brandname,name,price,oldprice,discount)
    tbody.append(card)
   })
}
